# üöÄ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω! Quick Start Guide

## ‚ö° TL;DR

```bash
# 1. –ó–∞–ø–æ–ª–Ω–∏ –∫–ª—é—á–∏ (—Å–∫–æ–ø–∏—Ä—É–π —à–∞–±–ª–æ–Ω—ã)
cp .env.prod.TEMPLATE .env.prod
cp .env.test.TEMPLATE .env.test
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª—ã, –≤—Å—Ç–∞–≤—å —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã

# 2. –ü—Ä–æ–≤–µ—Ä—å
python test_refactoring.py

# 3. –ó–∞–ø—É—Å–∫–∞–π
ENV=prod python bot.py  # –ø—Ä–æ–¥–∞–∫—à–Ω
ENV=test python bot.py  # —Ç–µ—Å—Ç
```

---

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ:
- ‚ùå –î–≤–µ –ø–∞–ø–∫–∏: `soul_bot/` –∏ `soul_test_bot/`
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (99% –∏–¥–µ–Ω—Ç–∏—á–Ω—ã)
- ‚ùå –¢–æ–∫–µ–Ω—ã –≤ –∫–æ–¥–µ
- ‚ùå –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

### –ü–æ—Å–ª–µ:
- ‚úÖ –û–¥–Ω–∞ –ø–∞–ø–∫–∞: `soul_bot/`
- ‚úÖ –ï–¥–∏–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞
- ‚úÖ –¢–æ–∫–µ–Ω—ã –≤ .env (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å dev/staging –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## üéØ –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞–ø—Ä—è–º—É—é
```bash
ENV=prod python bot.py  # –ø—Ä–æ–¥–∞–∫—à–Ω
ENV=test python bot.py  # —Ç–µ—Å—Ç
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã
```bash
../scripts/run_prod.sh  # –ø—Ä–æ–¥–∞–∫—à–Ω
../scripts/run_test.sh  # —Ç–µ—Å—Ç
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
ENV=prod python bot.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
ENV=test python bot.py
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
soul_bot/
‚îú‚îÄ‚îÄ .env.prod          # –ü—Ä–æ–¥–∞–∫—à–Ω –∫–æ–Ω—Ñ–∏–≥ (–ù–ï –≤ git!)
‚îú‚îÄ‚îÄ .env.test          # –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥ (–ù–ï –≤ git!)
‚îú‚îÄ‚îÄ .env.example       # –®–∞–±–ª–æ–Ω (–≤ git)
‚îú‚îÄ‚îÄ .env.prod.TEMPLATE # –®–∞–±–ª–æ–Ω —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
‚îú‚îÄ‚îÄ .env.test.TEMPLATE # –®–∞–±–ª–æ–Ω —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
‚îú‚îÄ‚îÄ config.py          # –£–º–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ (–∞–≤—Ç–æ–≤—ã–±–æ—Ä .env)
‚îú‚îÄ‚îÄ test_refactoring.py # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤
‚îú‚îÄ‚îÄ bot/               # –ö–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ database/          # –ë–î
‚îî‚îÄ‚îÄ tests/             # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (First Time Setup)

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π —à–∞–±–ª–æ–Ω—ã
```bash
cp .env.prod.TEMPLATE .env.prod
cp .env.test.TEMPLATE .env.test
```

### –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–∏ .env.prod
```bash
nano .env.prod  # –∏–ª–∏ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

–ó–∞–º–µ–Ω–∏ `–í–°–¢–ê–í–¨_–°–Æ–î–ê_...` –Ω–∞ —Å–≤–æ–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏:
- `BOT_TOKEN` - –æ—Ç @BotFather
- `OPENAI_API_KEY` - –æ—Ç OpenAI
- `POSTGRES_PASSWORD` - –æ—Ç PostgreSQL
- Assistant IDs - –∏–∑ OpenAI Dashboard

### –®–∞–≥ 3: –ó–∞–ø–æ–ª–Ω–∏ .env.test
```bash
nano .env.test
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –¢–µ—Å—Ç–æ–≤—ã–π BOT_TOKEN —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω!  
–ó–∞–º–µ–Ω–∏ —Ç–æ–ª—å–∫–æ:
- `OPENAI_API_KEY`
- `POSTGRES_PASSWORD`
- Assistant IDs

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
python test_refactoring.py
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üéâ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´! –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–µ–Ω!
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
python test_refactoring.py
```

### –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
./run_tests.sh
```

### –¢–æ–ª—å–∫–æ smoke —Ç–µ—Å—Ç—ã
```bash
./run_tests.sh smoke
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
- .env.prod –∏ .env.test - **–≤ .gitignore**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã
- –•—Ä–∞–Ω–∏—Ç—å –≤ password manager

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- –ö–æ–º–º–∏—Ç–∏—Ç—å .env —Ñ–∞–π–ª—ã
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —á–∞—Ç/email
- –•—Ä–∞–Ω–∏—Ç—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

---

## üóëÔ∏è –û—á–∏—Å—Ç–∫–∞

–ö–æ–≥–¥–∞ —É–±–µ–¥–∏—à—å—Å—è, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –ø–∞–ø–∫–∏
cd /Users/nikitagorokhov/dev/SoulNear
rm -rf soul_test_bot
rm -rf soul_bot_backup soul_test_bot_backup

# –ö–æ–º–º–∏—Ç–∏–º
cd soul_bot
git add .
git commit -m "refactor: unified soul_bot and soul_test_bot with .env configs"
git push
```

---

## ‚ùì FAQ

**Q: –ì–¥–µ –≤–∑—è—Ç—å BOT_TOKEN?**  
A: @BotFather –≤ Telegram ‚Üí /newbot –∏–ª–∏ /mybots

**Q: –ì–¥–µ –≤–∑—è—Ç—å OPENAI_API_KEY?**  
A: https://platform.openai.com/api-keys

**Q: –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å Assistant?**  
A: https://platform.openai.com/assistants ‚Üí Create

**Q: –ë–î –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è?**  
A: –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –±–∞–∑—ã —Å–æ–∑–¥–∞–Ω—ã:
```bash
psql -U postgres -c "CREATE DATABASE soul_bot;"
psql -U postgres -c "CREATE DATABASE soul_test_bot;"
```

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–±–∞ –±–æ—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?**  
A: –î–∞! –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –ë–î (soul_bot vs soul_test_bot)

**Q: –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥?**  
A:
```bash
rm -rf soul_bot
cp -r soul_bot_backup soul_bot
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `SETUP_ENV.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `REFACTORING_DONE.md` - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `TEST_PLAN.md` - –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `TESTING.md` - –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
1. ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å prod –∏ test –∏–∑ –æ–¥–Ω–æ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
2. ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã
3. ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.dev)
4. ‚úÖ –ù–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ ChatCompletion!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ ChatCompletion API  
–°–º. –ø–ª–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

---

üí° **Pro tip:** –î–æ–±–∞–≤—å –∞–ª–∏–∞—Å—ã –≤ `.bashrc` –∏–ª–∏ `.zshrc`:
```bash
alias soul-prod='cd /Users/nikitagorokhov/dev/SoulNear/soul_bot && ENV=prod python bot.py'
alias soul-test='cd /Users/nikitagorokhov/dev/SoulNear/soul_bot && ENV=test python bot.py'
```


